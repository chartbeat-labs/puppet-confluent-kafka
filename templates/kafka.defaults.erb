# Have to export these log variables since currently a bug in kafka-server-start
# that doesnt export these variables
export LOG_DIR="<%= scope.lookupvar('confluent_kafka::app_log_dir') %>"
export KAFKA_LOG4J_OPTS="<%= scope.lookupvar('confluent_kafka::log4j_opts') %>"

export KAFKA_HEAP_OPTS="<%= scope.lookupvar('confluent_kafka::jvm_heap_mem') %>"
export KAFKA_JMX_OPTS="<%= scope.lookupvar('confluent_kafka::jmx_opts') %>"
export KAFKA_JVM_PERFORMANCE_OPTS="<%= scope.lookupvar('confluent_kafka::jvm_perf_opts')%>"
ulimit -n <%= scope.lookupvar('confluent_kafka::params::max_nofiles')%>
<% if ! scope.lookupvar('confluent_kafka::extra_args').empty? then -%>
export EXTRA_ARGS="<%= scope.lookupvar('confluent_kafka::extra_args') %>"
<% end -%>
